<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ouvintes Conectados</title>
    <script>
        // Função para buscar o valor de "ouvintes_conectados" e multiplicar por 10
        async function obterOuvintes() {
            try {
                // Requisição para pegar os dados do JSON
                const response = await fetch('https://99fm.dol.com.br/aovivo/brascast.php');
                const data = await response.json();

                // Verifica se o campo "ouvintes_conectados" existe
                if (data.ouvintes_conectados !== undefined) {
                    const ouvintes = data.ouvintes_conectados;
                    const ouvintesMultiplicados = ouvintes * 10;

                    // Exibe o novo valor no console
                    console.log(`Ouvintes conectados multiplicados: ${ouvintesMultiplicados}`);

                    // Retorna o novo objeto com o valor multiplicado
                    return {
                        ouvintes_conectados: ouvintesMultiplicados
                    };
                } else {
                    console.error("O campo 'ouvintes_conectados' não foi encontrado.");
                }
            } catch (error) {
                console.error('Erro ao buscar dados:', error);
            }
        }

        // Chama a função assim que a página for carregada
        window.onload = async () => {
            const resultado = await obterOuvintes();
            if (resultado) {
                console.log("Resultado final: ", resultado);
            }
        };
    </script>
</head>
<body>
    <h1>Verificando Ouvintes Conectados</h1>
    <p>Abra o console para ver o valor multiplicado.</p>
</body>
</html>

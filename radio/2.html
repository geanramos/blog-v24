<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ouvintes Conectados</title>
    <script>
        // Função para buscar o valor de "ouvintes_conectados" e multiplicar por 10
        async function obterOuvintes() {
            try {
                // Requisição para pegar os dados do JSON
                const response = await fetch('https://99fm.dol.com.br/aovivo/brascast.php');
                
                // Verifica se a resposta foi bem-sucedida (status 200)
                if (!response.ok) {
                    throw new Error('Erro ao buscar dados');
                }

                // Converte o corpo da resposta para JSON
                const data = await response.json();

                // Verifica se o campo "ouvintes_conectados" existe
                if (data && data.ouvintes_conectados !== undefined) {
                    const ouvintes = data.ouvintes_conectados;
                    const ouvintesMultiplicados = ouvintes * 10;

                    // Exibe o resultado no console
                    console.log(`Ouvintes conectados multiplicados: ${ouvintesMultiplicados}`);

                    // Exibe o novo valor na página
                    document.getElementById('resultado').textContent = `Ouvintes Conectados Multiplicados: ${ouvintesMultiplicados}`;
                } else {
                    console.error("O campo 'ouvintes_conectados' não foi encontrado.");
                }
            } catch (error) {
                console.error('Erro ao buscar dados:', error);
            }
        }

        // Chama a função assim que a página for carregada
        window.onload = () => {
            obterOuvintes();
        };
    </script>
</head>
<body>
    <h1>Verificando Ouvintes Conectados</h1>
    <p id="resultado">Carregando...</p> <!-- O resultado será exibido aqui -->
</body>
</html>
